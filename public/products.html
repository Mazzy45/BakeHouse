<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bakery Shop - Products</title>
    <link rel="stylesheet" href="css/products.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<!-- Header -->
<header>
    <div class="logo">
        <img src="img/logo.png" alt="Bakery Logo">
    </div>
    <nav>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="#account">Account</a></li>
            <li class="cart-link">
                <a href="#cart">
                    <i class="fa fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </a>
            </li>
        </ul>
    </nav>
</header>

<!-- Cake and Cookie Product Sections -->
<section id="cake-section">
    <h2>Cakes</h2>
    <div class="product-grid" id="cake-products">
        <!-- Cake products will be populated by the server -->
    </div>
</section>

<section id="cookie-section">
    <h2>Cookies</h2>
    <div class="product-grid" id="cookie-products">
        <!-- Cookie products will be populated by the server -->
    </div>
</section>

<!-- Footer -->
<footer>
    <p>© 2025 Bakery Shop</p>
    <div class="contact">
        <a href="mailto:contact@bakeryshop.com">Contact Us</a>
    </div>
</footer>

<!-- JavaScript for Cart Functionality -->
<script>
    // Function to fetch and display products from CSV
    function fetchAndDisplayProducts() {
        // Log the fetch attempt to monitor it
        console.log("Attempting to fetch products data...");

        // Fetch the CSV file
        fetch('products.csv')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to fetch products CSV file');
                }
                return response.text(); // Get the response as text (CSV)
            })
            .then(csvData => {
                console.log("CSV data fetched successfully:");
                console.log(csvData); // Log the CSV data to inspect its structure
                parseCSV(csvData); // Call the function to parse CSV and render the data
            })
            .catch(error => {
                console.error("Error fetching CSV data:", error);
                alert("Failed to load products. Check the console for more details.");
            });
    }

    // Function to parse CSV data and render products
    function parseCSV(csvData) {
        // Split the CSV data into rows
        const rows = csvData.split('\n');
        console.log("CSV rows:", rows); // Log to see the structure of the rows

        const cakeContainer = document.getElementById('cake-products');
        const cookieContainer = document.getElementById('cookie-products');

        // Loop through each row and process the data
        rows.forEach((row, index) => {
            if (index === 0) return; // Skip header row

            const columns = row.split(',');

            if (columns.length !== 6) {
                console.error("Invalid row detected, skipping:", row);
                return; // Skip invalid rows
            }

            const [typecode, id, type, name, price, imageUrl] = columns;

            if (typecode === '2') { // For Cakes
                const cakeHTML = `
                    <div class="product-card">
                        <img src="${imageUrl}" alt="${name}">
                        <h3>${name}</h3>
                        <p>8' whole cake: RM ${price}</p>
                        <button class="btn" onclick="addToCart(${id})">Add to Cart</button>
                    </div>
                `;
                cakeContainer.innerHTML += cakeHTML; // Add to cake products section
            } else if (typecode === '1') { // For Cookies
                const cookieHTML = `
                    <div class="product-card">
                        <img src="${imageUrl}" alt="${name}">
                        <h3>${name}</h3>
                        <p>25 pieces: RM ${price}</p>
                        <button class="btn" onclick="addToCart(${id})">Add to Cart</button>
                    </div>
                `;
                cookieContainer.innerHTML += cookieHTML; // Add to cookie products section
            }
        });
    }

    // Example cart function
    function addToCart(productId) {
        console.log(`Added product with ID ${productId} to cart`);
    }

    // Run the function to fetch and display products when the page loads
    window.onload = fetchAndDisplayProducts;
</script>

</body>
</html>



<!--
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bakery Shop</title>
    <link rel="stylesheet" href="css/homepage.css">  Make sure the CSS file is linked
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">  FontAwesome for icons
</head>
<body>

 Header
<header>
    <div class="logo">
        <img src="img/logo.png" alt="Bakery Logo">
    </div>
    <nav>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li class="dropdown">
                <a href="products.html">Products <i class="fa fa-chevron-down"></i></a>
                <ul class="dropdown-menu">
                    <li><a href="#cakes">Cakes</a></li>
                    <li><a href="#cookies">Cookies</a></li>
                </ul>
            </li>
            <li><a href="#account">Account</a></li>
            <li class="cart-link">
                <a href="#cart">
                    <i class="fa fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </a>
            </li>
        </ul>
    </nav>
</header>

 Cake Section
<section id="cakes">
    <h2>Cakes</h2>
    <div class="product">
        <img src="cake-image-url.jpg" alt="Cake 1">
        <h3>Moist Chocolate Cake</h3>
        <p>RM10.00</p>
        <button class="add-to-cart">Add to Cart</button>
    </div>
    <div class="product">
        <img src="cake-image-url.jpg" alt="Cake 2">
        <h3>Red Velvet Cake</h3>
        <p>RM12.00</p>
        <button class="add-to-cart">Add to Cart</button>
    </div>
     Add more cakes as needed
</section>

 Cookies Section
<section id="cookies">
    <h2>Cookies</h2>
    <div class="product">
        <img src="cookies-image-url.jpg" alt="Cookie 1">
        <h3>Chocolate Chip Cookies</h3>
        <p>RM8.00</p>
        <button class="add-to-cart">Add to Cart</button>
    </div>
    <div class="product">
        <img src="cookies-image-url.jpg" alt="Cookie 2">
        <h3>Oatmeal Cookies</h3>
        <p>RM6.00</p>
        <button class="add-to-cart">Add to Cart</button>
    </div>
     Add more cookies as needed
</section>

 Footer
<footer>
    <p>© 2025 Bakery Shop</p>
    <div class="contact">
        <a href="mailto:contact@bakeryshop.com">Contact Us</a>
    </div>
</footer>

 Inline JavaScript
<script>
    // Example cart count functionality
    let cartCount = 0; // Initialize cart count

    // Update cart count
    function updateCartCount() {
        const cartCountElement = document.querySelector('.cart-count');
        cartCountElement.textContent = cartCount;
    }

    // Function to handle "Add to Cart"
    function addToCart() {
        cartCount++;
        updateCartCount(); // Update cart count display
    }

    // Add event listeners to all "Add to Cart" buttons
    document.querySelectorAll('.add-to-cart').forEach(button => {
        button.addEventListener('click', addToCart);
    });

    // Initialize cart count display
    updateCartCount();
</script>

<script>
    function addToCart(productId) {
        fetch('/cart', {
            method: 'POST',
            headers: {
                'Content-Type': 'text/plain'
            },
            body: productId
        })
            .then(response => {
                if (response.ok) {
                    alert('Product added to cart!');
                } else {
                    alert('Failed to add product.');
                }
            });
    }
</script>

</body>
</html>
-->

<!--
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BakeHouse - Products</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
<header class="header">
    <div class="container">
        <h1>BakeHouse</h1>
        <nav>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="products.html">Products</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </div>
</header>

<main>
    <section class="products">
        <h2>Our Products</h2>
        <div class="product-grid">
            <div class="product-card">
                <img src="https://via.placeholder.com/150" alt="Product 1">
                <h3>Chocolate Cake</h3>
                <p>$15.99</p>
                <button class="btn">Add to Cart</button>
            </div>
            <div class="product-card">
                <img src="https://via.placeholder.com/150" alt="Product 2">
                <h3>Blueberry Muffin</h3>
                <p>$4.99</p>
                <button class="btn">Add to Cart</button>
            </div>
            <div class="product-card">
                <img src="https://via.placeholder.com/150" alt="Product 3">
                <h3>French Croissant</h3>
                <p>$2.99</p>
                <button class="btn">Add to Cart</button>
            </div>
        </div>
    </section>
</main>

<footer class="footer" id="contact">
    <p>&copy; 2025 BakeHouse. All rights reserved.</p>
</footer>
</body>
</html>
-->